{"version":3,"file":"ngx-bootstrap-collapse.js","sources":["ngx-bootstrap/collapse/collapse-animations.ts","ngx-bootstrap/collapse/collapse.directive.ts","ngx-bootstrap/collapse/collapse.module.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  animate,\n  style,\n  AnimationMetadata\n} from '@angular/animations';\n\nexport const COLLAPSE_ANIMATION_TIMING = '400ms cubic-bezier(0.4,0.0,0.2,1)';\n\nexport const expandAnimation: AnimationMetadata[] = [\n  style({ height: 0, visibility: 'hidden' }),\n  animate(\n    COLLAPSE_ANIMATION_TIMING,\n    style({ height: '*', visibility: 'visible' })\n  )\n];\n\nexport const collapseAnimation: AnimationMetadata[] = [\n  style({ height: '*', visibility: 'visible' }),\n  animate(\n    COLLAPSE_ANIMATION_TIMING,\n    style({ height: 0, visibility: 'hidden' })\n  )\n];\n","import {\n  AnimationBuilder,\n  AnimationFactory,\n  AnimationPlayer\n} from '@angular/animations';\n\nimport {\n  AfterViewChecked,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n  Renderer2\n} from '@angular/core';\n\nimport {\n  collapseAnimation,\n  expandAnimation\n} from './collapse-animations';\n\n@Directive({\n  selector: '[collapse]',\n  exportAs: 'bs-collapse',\n  host: {\n    '[class.collapse]': 'true'\n  }\n})\nexport class CollapseDirective implements AfterViewChecked {\n  /** This event fires as soon as content collapses */\n  @Output() collapsed: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires when collapsing is started */\n  @Output() collapses: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires as soon as content becomes visible */\n  @Output() expanded: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires when expansion is started */\n  @Output() expands: EventEmitter<CollapseDirective> = new EventEmitter();\n  // shown\n  @HostBinding('class.in')\n  @HostBinding('class.show')\n  @HostBinding('attr.aria-expanded')\n  isExpanded = true;\n  collapseNewValue = true;\n  // hidden\n  @HostBinding('attr.aria-hidden') isCollapsed = false;\n  // stale state\n  @HostBinding('class.collapse') isCollapse = true;\n  // animation state\n  @HostBinding('class.collapsing') isCollapsing = false;\n\n  @Input()\n  set display(value: string) {\n    if (!this.isAnimated) {\n      this._renderer.setStyle(this._el.nativeElement, 'display', value);\n\n      return;\n    }\n\n    this._display = value;\n\n    if (value === 'none') {\n      this.hide();\n\n      return;\n    }\n\n    this.show();\n  }\n  /** turn on/off animation */\n  @Input() isAnimated = false;\n  /** A flag indicating visibility of content (shown or hidden) */\n  @Input()\n  set collapse(value: boolean) {\n    this.collapseNewValue = value;\n    if (!this._player || this._isAnimationDone) {\n      this.isExpanded = value;\n      this.toggle();\n    }\n  }\n\n  get collapse(): boolean {\n    return this.isExpanded;\n  }\n\n  private _display = 'block';\n  private _factoryCollapseAnimation: AnimationFactory;\n  private _factoryExpandAnimation: AnimationFactory;\n  private _isAnimationDone: boolean;\n  private _player: AnimationPlayer;\n  private _stylesLoaded = false;\n\n  private _COLLAPSE_ACTION_NAME = 'collapse';\n  private _EXPAND_ACTION_NAME = 'expand';\n\n  constructor(\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    _builder: AnimationBuilder\n  ) {\n    this._factoryCollapseAnimation = _builder.build(collapseAnimation);\n    this._factoryExpandAnimation = _builder.build(expandAnimation);\n  }\n\n  ngAfterViewChecked(): void {\n    this._stylesLoaded = true;\n\n    if (!this._player || !this._isAnimationDone) {\n      return;\n    }\n\n    this._player.reset();\n    this._renderer.setStyle(this._el.nativeElement, 'height', '*');\n  }\n\n  /** allows to manually toggle content visibility */\n  toggle(): void {\n    if (this.isExpanded) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  /** allows to manually hide content */\n  hide(): void {\n    this.isCollapsing = true;\n    this.isExpanded = false;\n    this.isCollapsed = true;\n    this.isCollapsing = false;\n\n    this.collapses.emit(this);\n\n    this._isAnimationDone = false;\n\n    this.animationRun(this.isAnimated, this._COLLAPSE_ACTION_NAME)(() => {\n      this._isAnimationDone = true;\n      if (this.collapseNewValue !== this.isCollapsed && this.isAnimated) {\n        this.show();\n\n        return;\n      }\n      this.collapsed.emit(this);\n      this._renderer.setStyle(this._el.nativeElement, 'display', 'none');\n    });\n  }\n  /** allows to manually show collapsed content */\n  show(): void {\n    this._renderer.setStyle(this._el.nativeElement, 'display', this._display);\n\n    this.isCollapsing = true;\n    this.isExpanded = true;\n    this.isCollapsed = false;\n    this.isCollapsing = false;\n\n    this.expands.emit(this);\n\n    this._isAnimationDone = false;\n    this.animationRun(this.isAnimated, this._EXPAND_ACTION_NAME)(() => {\n      this._isAnimationDone = true;\n      if (this.collapseNewValue !== this.isCollapsed && this.isAnimated) {\n        this.hide();\n\n        return;\n      }\n      this.expanded.emit(this);\n      this._renderer.removeStyle(this._el.nativeElement, 'overflow');\n    });\n  }\n\n  animationRun(isAnimated: boolean, action: string) {\n    if (!isAnimated || !this._stylesLoaded) {\n      return (callback: () => void) => callback();\n    }\n\n    this._renderer.setStyle(this._el.nativeElement, 'overflow', 'hidden');\n    this._renderer.addClass(this._el.nativeElement, 'collapse');\n\n    const factoryAnimation = (action === this._EXPAND_ACTION_NAME)\n      ? this._factoryExpandAnimation\n      : this._factoryCollapseAnimation;\n\n    if (this._player) {\n      this._player.destroy();\n    }\n\n    this._player = factoryAnimation.create(this._el.nativeElement);\n    this._player.play();\n\n    return (callback: () => void) => this._player.onDone(callback);\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { CollapseDirective } from './collapse.directive';\n\n@NgModule({\n  declarations: [CollapseDirective],\n  exports: [CollapseDirective]\n})\nexport class CollapseModule {\n  static forRoot(): ModuleWithProviders<CollapseModule> {\n    return { ngModule: CollapseModule, providers: [] };\n  }\n}\n"]}